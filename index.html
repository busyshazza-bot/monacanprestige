<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MONACAN PRESTIGE | Curating the Exceptional</title>

    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Bodoni+Moda:ital,wght@0,400;1,700&family=Inter:wght@100;300;600&display=swap" rel="stylesheet">

    <style>
        :root { --obsidian: #050505; }
        body { background-color: var(--obsidian); color: #fff; font-family: 'Inter', sans-serif; overflow-x: hidden; margin: 0; }
        h1, h2, h3, h4, .serif { font-family: 'Bodoni Moda', serif; }

        /* Site Visibility Logic */
        #main-site { opacity: 0; visibility: hidden; transition: opacity 1.5s ease; }
        #main-site.visible { opacity: 1; visibility: visible; }

        #enter-overlay {
            position: fixed; inset: 0; background: #000; z-index: 10000;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
        }

        #floating-car {
            position: fixed; top: 0; left: 0; width: 220px; 
            z-index: 5; pointer-events: none; opacity: 0; 
            filter: drop-shadow(0 20px 30px rgba(0,0,0,0.8));
            transition: opacity 1s ease;
        }

        .hero-bg-road {
            position: absolute; inset: 0;
            background-image: url('welcome.png');
            background-size: cover; background-position: center;
            filter: brightness(0.35) contrast(1.1); z-index: 0;
        }

        /* Animations */
        .reveal { opacity: 0; transform: translateY(30px); transition: 1.2s cubic-bezier(0.22, 1, 0.36, 1); }
        .reveal.active { opacity: 1; transform: translateY(0); }

        .type-cursor {
            display: inline-block; width: 2px; height: 1em;
            background-color: white; margin-left: 4px;
            animation: blink 0.8s infinite; vertical-align: middle;
        }
        @keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0; } }
    </style>
</head>
<body>

    <img id="floating-car" src="https://pngimg.com/d/porsche_PNG10620.png" alt="Porsche Cursor">

    <div id="enter-overlay">
        <div class="text-[9px] tracking-[2em] -mr-[2em] mb-12 opacity-20 uppercase">The House of Monacans</div>
        <button onclick="startExperience()" class="px-16 py-7 border border-white/10 text-[10px] tracking-[1em] hover:bg-white hover:text-black transition-all duration-1000 uppercase">
            Begin Experience
        </button>
    </div>

    <div id="main-site">
        <nav class="fixed w-full z-[100] px-12 py-10 flex justify-between items-center mix-blend-difference">
            <div class="text-xl font-light tracking-[0.4em] uppercase serif">MONACAN PRESTIGE</div>
            <div class="hidden md:flex gap-12 text-[9px] uppercase tracking-[0.5em] opacity-60">
                <a href="#inventory" class="hover:opacity-100 transition">Inventory</a>
                <a href="#contact" class="hover:opacity-100 transition">Contact</a>
            </div>
        </nav>

        <header class="h-screen flex flex-col justify-center items-center text-center relative overflow-hidden">
            <div class="hero-bg-road"></div>
            
            <audio id="track1" preload="auto"><source src="enginesound.m4a" type="audio/mp4"></audio>
            <audio id="track2" loop preload="auto"><source src="myeyes.m4a" type="audio/mp4"></audio>

            <div class="relative z-10 px-6">
                <h1 id="hero-title" class="text-5xl md:text-8xl font-bold tracking-tighter mb-8 italic uppercase min-h-[1.1em]"></h1>
                <p id="hero-subtitle" class="text-gray-400 text-[10px] tracking-[1.8em] uppercase font-light min-h-[1em]"></p>
            </div>

            <div onclick="toggleMusic()" class="absolute bottom-12 right-12 z-[100] cursor-pointer">
                <div class="flex items-center gap-4 border border-white/5 bg-black/20 backdrop-blur-md px-6 py-3 rounded-full hover:bg-white/10 transition">
                    <div id="status-dot" class="w-1.5 h-1.5 bg-red-500 rounded-full"></div>
                    <span id="musicText" class="text-[8px] tracking-[0.4em] uppercase opacity-40">Atmosphere Off</span>
                </div>
            </div>
        </header>

        <section id="inventory" class="py-48 px-10 max-w-[1500px] mx-auto relative z-20">
            <h2 class="text-4xl font-light serif mb-32 reveal italic uppercase tracking-widest text-center">Current Selection</h2>
            <div class="grid md:grid-cols-3 gap-20">
                <div class="reveal group cursor-pointer" onclick="openDetails('Honda Jazz 2014', '£8,500', '1.3L i-VTEC', ['redhondajazz20142.jpg'])">
                    <div class="aspect-[4/3] bg-white/5 p-4 mb-8 overflow-hidden transition-all duration-700 group-hover:bg-white/10">
                        <img src="redhondajazz20142.jpg" class="w-full h-full object-cover grayscale hover:grayscale-0 transition duration-1000">
                    </div>
                    <h3 class="text-sm tracking-widest uppercase opacity-80">Honda Jazz 2014</h3>
                </div>
                <div class="reveal group cursor-pointer" onclick="openDetails('Nissan Micra', '£5,000', '1.2L Engine', ['nissanmicra/nmicra1.JPG'])">
                    <div class="aspect-[4/3] bg-white/5 p-4 mb-8 overflow-hidden transition-all duration-700 group-hover:bg-white/10">
                        <img src="nissanmicra/nmicra1.JPG" class="w-full h-full object-cover grayscale hover:grayscale-0 transition duration-1000">
                    </div>
                    <h3 class="text-sm tracking-widest uppercase opacity-80">Nissan Micra</h3>
                </div>
            </div>
        </section>

        <section id="contact" class="py-60 bg-[#080808] relative z-20">
            <div class="max-w-3xl mx-auto px-10 text-center reveal">
                <h2 class="text-5xl font-light mb-16 serif italic">Inquire</h2>
                <form action="mailto:busyshazza@gmail.com" method="post" enctype="text/plain" class="grid gap-4">
                    <input type="text" name="Name" placeholder="NAME" required class="bg-transparent border-b border-white/10 p-4 text-xs tracking-widest focus:border-white outline-none transition">
                    <input type="text" name="Request" placeholder="VEHICLE OF INTEREST" class="bg-transparent border-b border-white/10 p-4 text-xs tracking-widest focus:border-white outline-none transition">
                    <button type="submit" class="mt-12 py-6 bg-white text-black text-[10px] font-bold tracking-[1em] hover:invert transition uppercase">Send Request</button>
                </form>
            </div>
        </section>
    </div>

    <div id="carModal" class="fixed inset-0 bg-black/98 z-[10000] hidden flex items-center justify-center backdrop-blur-xl transition-opacity duration-500">
        <div class="w-full max-w-6xl p-10 relative overflow-y-auto max-h-screen">
            <button onclick="closeModal()" class="fixed top-10 right-10 text-white text-2xl font-light opacity-50 hover:opacity-100">&times; CLOSE</button>
            <div class="grid md:grid-cols-2 gap-16 items-center">
                <div id="modalGallery" class="space-y-4"></div>
                <div>
                    <h2 id="modalTitle" class="text-6xl serif italic mb-4"></h2>
                    <p id="modalPrice" class="text-xs tracking-[1em] uppercase text-gray-500 mb-12"></p>
                    <p class="text-gray-400 text-sm leading-relaxed mb-12">Hand-selected for the Monacan collection. This vehicle has undergone rigorous prestige certification.</p>
                    <button class="w-full py-6 border border-white/20 text-[9px] tracking-[1em] hover:bg-white hover:text-black transition uppercase">Request Private Viewing</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        const car = document.getElementById('floating-car');
        const t1 = document.getElementById('track1');
        const t2 = document.getElementById('track2');
        const mText = document.getElementById('musicText');
        const dot = document.getElementById('status-dot');
        let playing = false;

        // Typewriter Engine
        async function typeEffect(element, text, speed) {
            if (!element) return;
            element.innerHTML = '';
            return new Promise(resolve => {
                let i = 0;
                const cursor = document.createElement('span');
                cursor.className = 'type-cursor';
                element.appendChild(cursor);
                function type() {
                    if (i < text.length) {
                        cursor.before(text.charAt(i));
                        i++;
                        setTimeout(type, speed);
                    } else {
                        cursor.remove();
                        resolve();
                    }
                }
                type();
            });
        }

        // Handle Track Transition
        t1.onended = () => { if (playing) t2.play(); };

        async function startExperience() {
            // Unlock Audio Context (Crucial for 2026 Browsers)
            const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
            if (audioCtx.state === 'suspended') audioCtx.resume();

            // Reveal Content
            document.getElementById('enter-overlay').style.opacity = '0';
            setTimeout(() => {
                document.getElementById('enter-overlay').style.display = 'none';
                document.getElementById('main-site').classList.add('visible');
                if(window.innerWidth > 768) car.style.opacity = '0.3';
            }, 1000);

            // Play Engine and Sequence Atmosphere
            playing = true;
            t1.play().catch(() => console.log("User must interact first"));
            
            mText.innerText = "Atmosphere On";
            dot.classList.replace('bg-red-500', 'bg-green-500');
            dot.classList.add('animate-pulse');

            // Sequential Typewriting
            await typeEffect(document.getElementById('hero-title'), "The Rhythm of the Road.", 70);
            await typeEffect(document.getElementById('hero-subtitle'), "Curating the Exceptional", 50);
        }

        function toggleMusic() {
            if (playing) {
                t1.pause(); t2.pause();
                mText.innerText = "Atmosphere Off";
                dot.classList.replace('bg-green-500', 'bg-red-500');
                dot.classList.remove('animate-pulse');
            } else {
                if (t1.currentTime > 0 && !t1.ended) t1.play(); else t2.play();
                mText.innerText = "Atmosphere On";
                dot.classList.replace('bg-red-500', 'bg-green-500');
                dot.classList.add('animate-pulse');
            }
            playing = !playing;
        }

        function openDetails(name, price, engine, images) {
            document.getElementById('modalTitle').innerText = name;
            document.getElementById('modalPrice').innerText = `${price} | ${engine}`;
            const gallery = document.getElementById('modalGallery');
            gallery.innerHTML = '';
            images.forEach(src => {
                const img = document.createElement('img');
                img.src = src;
                img.className = "w-full aspect-video object-cover border border-white/5";
                gallery.appendChild(img);
            });
            document.getElementById('carModal').classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }

        function closeModal() {
            document.getElementById('carModal').classList.add('hidden');
            document.body.style.overflow = 'auto';
        }

        // Parallax Mouse Follower
        document.addEventListener('mousemove', (e) => {
            if (window.innerWidth <= 768) return;
            const x = e.clientX;
            const y = e.clientY;
            car.style.transform = `translate(${x - 110}px, ${y - 60}px) rotate(${(x - window.innerWidth/2)/100}deg)`;
        });

        // Scroll Observer
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) entry.target.classList.add('active');
            });
        }, { threshold: 0.1 });

        document.querySelectorAll('.reveal').forEach(el => observer.observe(el));
    </script>
</body>
</html>
